<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>7-Day Challenge Tracker</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; font-family: 'Poppins', sans-serif; }
body {
  margin: 0; padding: 0;
  background: linear-gradient(135deg, #1e3c72, #2a5298);
  color: #fff; min-height: 100vh;
}
header {
  text-align: center;
  background: rgba(255,255,255,0.1);
  padding: 20px;
  font-size: 1.2rem;
  backdrop-filter: blur(10px);
}
.container {
  max-width: 900px;
  margin: 30px auto;
  background: rgba(255,255,255,0.1);
  padding: 30px;
  border-radius: 20px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  backdrop-filter: blur(10px);
}
h2 {
  text-align: center;
  color: #ffd700;
}
form {
  display: grid;
  gap: 15px;
}
input, select {
  padding: 10px;
  border: none;
  border-radius: 8px;
  outline: none;
}
button {
  padding: 12px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  background: #ffd700;
  color: #333;
  font-weight: bold;
  transition: 0.3s;
}
button:hover {
  background: #fff;
}
.table-container {
  overflow-x: auto;
}
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}
th, td {
  padding: 10px;
  text-align: center;
  border-bottom: 1px solid rgba(255,255,255,0.2);
}
tr.green { background-color: rgba(46, 204, 113, 0.3); }
tr.yellow { background-color: rgba(241, 196, 15, 0.3); }
tr.red { background-color: rgba(231, 76, 60, 0.3); }
footer {
  text-align: center;
  padding: 10px;
  font-size: 0.9em;
  color: #ccc;
}
</style>
</head>
<body>
<header>
  ‚ö†Ô∏è <b>REMINDER:</b> Please fill out this form <b>at the END OF YOUR DAY</b> to record your challenge compliance!
</header>

<div class="container" id="formContainer">
  <h2>Daily Entry Form</h2>
  <form id="dailyForm">
    <input type="text" id="name" placeholder="Participant Name" required />
    <input type="date" id="date" required />
    <input type="time" id="wakeTime" required />
    <input type="time" id="sleepTime" required />
    <input type="number" id="screenTime" placeholder="Screen Time (in hours)" min="0" required />
    <select id="screenCategory">
      <option value="">Primary Screen Category</option>
      <option>Work</option>
      <option>Social Media</option>
      <option>Entertainment</option>
      <option>Other</option>
    </select>
    <input type="number" id="sugarItems" placeholder="No. of Sugar Items Consumed" min="0" required />
    <input type="number" id="oilyItems" placeholder="No. of Oily/Fried Items" min="0" required />
    
    <label>Rule Violations:</label>
    <div>
      <label><input type="checkbox" id="tea" /> Tea/Coffee/Milk Taken</label><br>
      <label><input type="checkbox" id="sugar" /> Sugary Item Taken</label><br>
      <label><input type="checkbox" id="oily" /> Oily Food Taken</label><br>
      <label><input type="checkbox" id="reels" /> Watched Reels/Shorts</label>
    </div>
    
    <button type="submit">Save Day Entry</button>
    <button type="button" onclick="showSummary()">View Summary Dashboard</button>
  </form>
</div>

<div class="container" id="summaryContainer" style="display:none;">
  <h2>7-Day Challenge Summary Dashboard</h2>
  <div class="table-container">
    <table id="summaryTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>Date</th>
          <th>Wake Time</th>
          <th>Sleep Time</th>
          <th>Screen Time (hrs)</th>
          <th>Screen Category</th>
          <th>Sugar Items</th>
          <th>Oily Items</th>
          <th>Violations</th>
          <th>Compliance Score</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
  <button onclick="backToForm()">‚¨ÖÔ∏è Back to Form</button>
</div>

<footer>Made with üí™ for the 7-Day Challenge | LocalStorage Enabled | No backend required</footer>

<script>
const form = document.getElementById('dailyForm');
let allData = JSON.parse(localStorage.getItem('challengeData')) || [];

form.addEventListener('submit', e => {
  e.preventDefault();
  const entry = {
    name: document.getElementById('name').value.trim(),
    date: document.getElementById('date').value,
    wakeTime: document.getElementById('wakeTime').value,
    sleepTime: document.getElementById('sleepTime').value,
    screenTime: +document.getElementById('screenTime').value,
    screenCategory: document.getElementById('screenCategory').value,
    sugarItems: +document.getElementById('sugarItems').value,
    oilyItems: +document.getElementById('oilyItems').value,
    violations: {
      tea: document.getElementById('tea').checked,
      sugar: document.getElementById('sugar').checked,
      oily: document.getElementById('oily').checked,
      reels: document.getElementById('reels').checked
    }
  };
  allData.push(entry);
  localStorage.setItem('challengeData', JSON.stringify(allData));
  alert('Day entry saved successfully ‚úÖ');
  form.reset();
});

function showSummary() {
  const tbody = document.querySelector('#summaryTable tbody');
  tbody.innerHTML = '';
  if (allData.length === 0) {
    alert('No data yet. Please fill at least one day!');
    return;
  }
  
  allData.forEach(entry => {
    const v = entry.violations;
    const violationsCount = Object.values(v).filter(x => x).length;
    const score = 100 - (violationsCount * 25 + entry.sugarItems * 5 + entry.oilyItems * 5);
    const row = document.createElement('tr');
    if (score >= 80) row.classList.add('green');
    else if (score >= 50) row.classList.add('yellow');
    else row.classList.add('red');
    
    row.innerHTML = `
      <td>${entry.name}</td>
      <td>${entry.date}</td>
      <td>${entry.wakeTime}</td>
      <td>${entry.sleepTime}</td>
      <td>${entry.screenTime}</td>
      <td>${entry.screenCategory}</td>
      <td>${entry.sugarItems}</td>
      <td>${entry.oilyItems}</td>
      <td>${violationsCount}</td>
      <td>${score < 0 ? 0 : score}%</td>
    `;
    tbody.appendChild(row);
  });
  
  document.getElementById('formContainer').style.display = 'none';
  document.getElementById('summaryContainer').style.display = 'block';
}

function backToForm() {
  document.getElementById('summaryContainer').style.display = 'none';
  document.getElementById('formContainer').style.display = 'block';
}
</script>
</body>
</html>
